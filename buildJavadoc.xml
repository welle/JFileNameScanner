<?xml version="1.0"?>
<project name="Javadoc" default="runJavadoc" basedir=".">

    <target name="runJavadoc" depends="chkPropsJavadoc, failJavadoc" unless="missingPropJavadoc">
        <echo message="Compiling Javadoc..."/>
        <antcall target="javadoc" />
    </target>

    <target name="chkPropsJavadoc">
        <property name="chk0" value="$${javadoc_dest}"/>
        <condition property="missingPropJavadoc">
            <or>
                <equals arg1="${chk0}" arg2="${javadoc_dest}"/>
                <equals arg1="" arg2="${javadoc_dest}"/>
            </or>
        </condition>
    </target>

    <target name="failJavadoc" if="missingPropJavadoc">
        <fail message="missing property(ies) : javadoc_dest"/>
    </target>

    <import file="classpath.xml" />

    <path id="JFileNameScanner.source">
		<pathelement location="JFileNameScanner/javasource/" />
	</path>


	<target name="javadoc">
        <delete dir="${javadoc_dest}" />
        <mkdir dir="${javadoc_dest}" />
	    <javadoc destdir="${javadoc_dest}"
			author="true"
			version="true"
			use="true"
			windowtitle="JFileNameScanner"
			source="1.8"
			linksource="false"
			classpathref="JFileNameScanner.classpath"
			sourcepathref="JFileNameScanner.source"
			packagenames="aka/media/**/*.*"
			breakiterator="true"
			private="true"
	    	classpath="C:\eclipse\plugins\org.eclipse.jdt.annotation_2.0.0.v20140415-1436.jar">

			<doctitle><![CDATA[<h1>JFileNameScanner</h1>]]></doctitle>
			<header><![CDATA[<b>JFileNameScanner</b>]]></header>
			<link href="http://download.oracle.com/javase/8/docs/api/" />
		</javadoc>
	</target>

</project>