<?xml version="1.0"?>
<project name="Sonar" default="sonar" basedir="." xmlns:sonar="antlib:org.sonar.ant">

    <!-- SERVER ON A REMOTE HOST -->
    <property name="sonar.host.url" value="$${sonar.host.url}" />

    <!-- Define the SonarQube project properties -->
    <property name="sonar.projectKey" value="JFileNameScanner:master" />
    <property name="sonar.projectName" value="JFileNameScanner" />
    <property name="sonar.projectVersion" value="1.1" />

    <property name="sonar.login" value="$${sonar.login}" />
    <property name="sonar.password" value="$${sonar.password}" />

    <property name="sonar.sourceEncoding" value="cp1252" />

    <!-- Javasource -->
    <property name="sonar.sources" value="JFileNameScanner/javasource" />
    <property name="sonar.java.binaries" value="JFileNameScanner/classes" />
    <property name="sonar.java.libraries" value="lib/*.jar,libJunit/*.jar" />
    <property name="sonar.java.source" value="1.8" />
    
    <!-- Tests -->
    <property name="sonar.tests" value="JFileNameScanner/javasourceTest" />
    <property name="sonar.java.test.binaries" value="JFileNameScanner/classes" />
    <property name="sonar.java.test.libraries" value="lib/*.jar,libJunit/*.jar" />
    <property name="sonar.junit.reportsPath" value="junit/reports" />
    <property name="sonar.jacoco.reportPath" value="jacoco/jacoco.exec" />

	<path id="sonar.classpath">
		<fileset dir="libJunit/" includes="**/*.jar" />
 	</path>

    <!-- Add the target -->
    <target name="sonar">
       <taskdef uri="antlib:org.sonar.ant" resource="org/sonar/ant/antlib.xml">
            <!-- Update the following line, or put the "sonarqube-ant-task-*.jar" file in your "$HOME/.ant/lib" folder -->
            <classpath refid="sonar.classpath" />
        </taskdef>

        <!-- Execute the SonarQube analysis -->
        <sonar:sonar />
    </target>
</project>
